## 2023-11

### 20. 有效的括号
```Rust
impl Solution {
    pub fn is_valid(s: String) -> bool {
        let mut v: Vec<u8> = vec![];

        for char in s.into_bytes() {
            match char {
                b')' | b']' | b'}' => if Some(char) != v.pop() {
                    return false;
                },
                _ => v.push(char + (1 << (char & 1)))
            }
        }
        v.is_empty()
    }
}
```

### 2661. 找出叠涂元素
```Rust
// 解法二
use std::collections::HashMap;

impl Solution {
    pub fn first_complete_index(arr: Vec<i32>, mat: Vec<Vec<i32>>) -> i32 {
        let mut coordinates: HashMap<i32, (usize, usize)> = HashMap::new();
        let row_len = mat.len();
        let column_len = mat[0].len();

        for i in 0..row_len {
            for j in 0..column_len {
                coordinates.insert(mat[i][j], (i, j));
            }
        }

        let mut rows_count = vec![0;row_len];
        let mut columns_count = vec![0;column_len];

        for (index,a) in arr.iter().enumerate() {
            if let Some(&(i, j)) = coordinates.get(a) {
                rows_count[i] += 1;
                columns_count[j] += 1;
                if rows_count[i] == column_len || columns_count[j] == row_len {
                    return index as i32;
                }
            }
        }

        unreachable!()
    }
}

// 解法一
use std::collections::HashMap;

impl Solution {
    pub fn first_complete_index(arr: Vec<i32>, mat: Vec<Vec<i32>>) -> i32 {
        let mut coordinates: HashMap<i32, Vec<usize>> = HashMap::new();
        let mut rows: HashMap<usize, Vec<i32>> = HashMap::new();
        let mut columns: HashMap<usize, Vec<i32>> = HashMap::new();

        for (row, m) in mat.iter().enumerate() {
            rows.entry(row).or_insert(m.to_vec());
            for (column, &v) in m.iter().enumerate() {
                coordinates.insert(v, vec![row, column]);
                columns.entry(column).or_insert(Vec::new()).push(v)
            }
        }


        for (i, a) in arr.iter().enumerate() {
            if let Some(v) = coordinates.get(a) {
                let (row, column) = (v[0], v[1]);

                if let Some(curr_row) = rows.get_mut(&row) {
                    curr_row[column] = 0;
                    if curr_row.iter().all(|&x| x == 0){
                        return i as i32;
                    }
                }

                if let Some(curr_column) = columns.get_mut(&column) {
                    curr_column[row] = 0;
                    if curr_column.iter().all(|&x| x == 0){
                        return i as i32;
                    }
                }
            }
        }

        -1
    }
}
```